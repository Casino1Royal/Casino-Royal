<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Elite Casino</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="login-container">
    <h1>🎰 Elite Casino</h1>
    <div class="login-box">
      <input type="text" id="username" placeholder="Enter your name..." />
      <button onclick="login()">Enter Casino</button>
    </div>
    <div class="player-info" id="playerInfo" style="display: none;">
      <p>Welcome, <span id="displayName"></span>!</p>
      <p>💰 Balance: $<span id="balance">0</span></p>
    </div>
  </div>

  <nav class="game-nav">
    <button onclick="goTo('blackjack.html')">Blackjack</button>
    <button onclick="goTo('roulette.html')">Roulette</button>
    <button onclick="goTo('wheel.html')">Wheel of Fortune</button>
    <button onclick="goTo('stats.html')">Stats</button>
  </nav>

  <section class="chat-section">
    <h2>🗨️ Casino Lobby Chat</h2>
    <div class="chat-box" id="chatBox"></div>
  </section>

  <audio id="clickSound" src="audio/click.mp3"></audio>

  <script>
    const chatMessages = [
      "Player22 just won $5,000 on Wheel of Fortune!",
      "High Roller Alex is on a hot streak!",
      "Dealer busted! You win $200!",
      "Player90 hit blackjack!",
      "Big win on Roulette: $1,200!",
    ];

    function login() {
      const name = document.getElementById("username").value;
      if (!name) return alert("Enter a name to continue!");
      localStorage.setItem("casinoUser", name);
      if (!localStorage.getItem("casinoBalance")) {
        localStorage.setItem("casinoBalance", 1000); // Start with $1000
      }
      updatePlayerUI();
    }

    function updatePlayerUI() {
      const name = localStorage.getItem("casinoUser");
      const balance = localStorage.getItem("casinoBalance");
      if (name) {
        document.getElementById("playerInfo").style.display = "block";
        document.getElementById("displayName").textContent = name;
        document.getElementById("balance").textContent = balance;
      }
    }

    function goTo(page) {
      document.getElementById("clickSound").play();
      setTimeout(() => window.location.href = page, 300);
    }

    function cycleChat() {
      const box = document.getElementById("chatBox");
      const msg = chatMessages[Math.floor(Math.random() * chatMessages.length)];
      const p = document.createElement("p");
      p.textContent = msg;
      box.appendChild(p);
      if (box.children.length > 10) box.removeChild(box.children[0]);
    }

    setInterval(cycleChat, 3000);
    window.onload = updatePlayerUI;
  </script>
</body>
</html>
